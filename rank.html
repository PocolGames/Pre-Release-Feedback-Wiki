<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pre-Release Rank</title>
    <link rel="stylesheet" href="cs/maincss.css">
    <link rel="stylesheet" href="cs/nav.css">
    <link rel="stylesheet" href="cs/rank.css">
    <link rel="stylesheet" href="cs/footer.css">
</head>
<body>

<!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
<nav>
    <a href="index.html">í™ˆ</a>
    <a href="feedback.html">í”¼ë“œë°±</a>
    <a href="rank.html">ìˆœìœ„</a>
</nav>

<div class="container">
    <h1>ìˆœìœ„í‘œ(ìˆ˜ì •ì¤‘)</h1>

    <div class="feedback-header">
        <span class="col-rank">ìˆœìœ„</span>
        <span class="col-name">ì´ë¦„</span>
        <span class="col-score">Top</span>
        <span class="col-score">Good</span>
        <span class="col-score">Try Again</span>
        <span class="col-score">NE</span>
        <span class="col-score">Total</span>
    </div>

    <div id="ranking-container"></div>
</div>

<footer>
    <div class="footer-container">
        <div class="footer-name">&copy; 2025 ì´ì€ìˆ˜ | Pre-Release Project. All rights reserved.</div>
        <div class="footer-contact">
            <span class="phone">ğŸ“ 010-6876-1121</span>
            <span class="dot">â€¢</span>
            <a class="email" href="mailto:dldmstn0409@gmail.com">dldmstn0409@gmail.com</a>
        </div>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const rawData = [
            { name: 'ì •ë‹¤ìš´', scores: [2, 2, 0, 0] },
            { name: 'ì´ì •í˜„', scores: [1, 2, 1, 0] },
            { name: 'ì¡°í˜„ì„±', scores: [1, 2, 1, 0] },
            { name: 'ì„ì€ì„­', scores: [0, 4, 0, 0] },
            { name: 'ê°•ìš°ì„±', scores: [0, 4, 0, 0] },
            { name: 'ê³½ë¯¼ì„±', scores: [1, 1, 2, 0] },
            { name: 'ë°•ì² ë¯¼', scores: [0, 3, 1, 0] },
            { name: 'ë¬¸ì´ˆì•„', scores: [0, 2, 2, 0] },
            { name: 'ë°•í•˜ëŒ', scores: [0, 1, 3, 0] },
            { name: 'ì´í˜„ìš°', scores: [0, 2, 1, 1] },
            { name: 'ë°•ì„±ë¹ˆ', scores: [0, 0, 4, 0] },
            { name: 'ì‹ ì„±í˜„', scores: [0, 2, 0, 0] },
            { name: 'ì „ë³‘ê·¼', scores: [0, 0, 0, 2] },
            { name: 'ì‹ ëŒ€ê· ', scores: [0, 0, 0, 0] },
            { name: 'ì°¨ìš°ì„', scores: [0, 0, 0, 0] },
            { name: 'ê¹€ë€', scores: [0, 0, 0, 0] },
        ];
    
        // ì´ì  ë° ì •ë ¬ ê¸°ì¤€ ì¶”ê°€
        const processedData = rawData.map(entry => {
            const [top, good, tryAgain, ne] = entry.scores;
            const total = top * 3 + good * 2 + tryAgain * 1 + ne * -1;
            return { ...entry, total, top };
        });
    
        // total -> top ê¸°ì¤€ ì •ë ¬
        processedData.sort((a, b) => {
            if (b.total !== a.total) return b.total - a.total;
            return b.top - a.top;
        });
    
        // ìˆœìœ„ ê³„ì‚° (ë™ì  ì²˜ë¦¬ í¬í•¨)
        let currentRank = 1;
        let sameRankCount = 0;
        let prev = null;
    
        processedData.forEach((entry, i) => {
            if (prev && entry.total === prev.total && entry.top === prev.top) {
                entry.rank = currentRank;
                sameRankCount++;
            } else {
                currentRank = i + 1;
                entry.rank = currentRank;
                sameRankCount = 1;
            }
            prev = entry;
        });
    
        // DOMì— ì¶œë ¥
        const container = document.getElementById('ranking-container');
        processedData.forEach((entry, index) => {
            const div = document.createElement('div');
            div.className = 'feedback2';
            div.style.animationDelay = `${index * 0.1}s`;
            div.classList.add('animate');
    
            const line = document.createElement('div');
            line.className = 'rank-line';
    
            const spanRank = document.createElement('span');
            spanRank.className = 'col-rank';
            spanRank.textContent = entry.rank;
            line.appendChild(spanRank);
    
            const spanName = document.createElement('span');
            spanName.className = 'col-name';
            spanName.textContent = entry.name;
            line.appendChild(spanName);
    
            entry.scores.forEach(score => {
                const scoreSpan = document.createElement('span');
                scoreSpan.className = 'col-score';
                scoreSpan.textContent = score;
                line.appendChild(scoreSpan);
            });
    
            const totalSpan = document.createElement('span');
            totalSpan.className = 'col-score';
            totalSpan.textContent = entry.total;
            line.appendChild(totalSpan);
    
            div.appendChild(line);
            container.appendChild(div);
        });
    });
</script>


</body>
</html>
